---
import { getCollection, type CollectionEntry } from 'astro:content'; // <-- UPDATE THIS LINE
import Layout from '../layouts/Layout.astro';
import FeaturedProjectCard from '../components/FeaturedProjectCard.astro';
import Reveal from '../components/Reveal.astro';

const allProjects = await getCollection('projects');
---
<Layout title="My Work">
  <div class="mx-auto max-w-4xl px-4 py-16 sm:py-24">
    <Reveal>
      <div class="text-center">
        <h1 
          class="text-4xl font-bold tracking-tight sm:text-5xl"
          style={{ fontFamily: 'var(--font-heading)' }}
        >
          My Work & Projects
        </h1>
        <p class="mt-4 text-lg leading-8 text-[--color-text-weak]">
          Here are some of the projects I've worked on. Each one represents a challenge I was excited to solve.
        </p>
      </div>
    </Reveal>

    <div class="mt-16 space-y-16">
      {/* ðŸ‘‡ UPDATE THIS LINE ðŸ‘‡ */}
      {allProjects.map((project: CollectionEntry<'projects'>, index: number) => (
        <Reveal>
          <FeaturedProjectCard project={project} isReversed={index % 2 !== 0} />
        </Reveal>
      ))}
    </div>
  </div>
</Layout>